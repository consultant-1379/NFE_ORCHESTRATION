
define('text!widgets/table/CheckboxCell/CheckboxCell.html',[],function () { return '<td style="text-align:center">\n\t<input class="ebCheckbox" type="checkbox" value="1" /> \n\t<span class="ebCheckbox-inputStatus"></span> \n</td>';});

define('widgets/table/CheckboxCell/CheckboxCellView',[
	"jscore/core",
	"text!./CheckboxCell.html"
], function(core, template){
	
	return core.View.extend({

		getTemplate: function() {
			return template;
		},

		getCheckbox: function() {
			return this.getElement().find(".ebCheckbox");
		}

	});
	

});
/**
 *    Provides a cell with a checkbox. When the checkbox is checked, the row will be highlighted. This cell should be used in conjunction with the CheckboxHeaderCell.
 *
 *    @class table.CheckboxCell
 */
define('widgets/table/CheckboxCell/CheckboxCell',[
    "widgets/table/Cell",
    "./CheckboxCellView"
], function (Cell, View) {

    var CheckboxCell = Cell.extend({

        View: View,

        onCellReady: function () {
            this.view.getCheckbox().addEventHandler("click", function (e) {
                e.originalEvent.stopPropagation();
                this.click(this.view.getCheckbox().getProperty("checked"));
            }, this);

            this.getEventBus().subscribe("CheckboxCell:check", function (checked) {
                this.view.getCheckbox().setProperty("checked", checked);
                this.getRow().highlight(checked);
            }, this);
        },

        click: function (checked) {
            this.getEventBus().publish("CheckboxHeaderCell:uncheck-header");
            this.getRow().highlight(checked);
        }

    });

    return CheckboxCell;

});
define('widgets/table/CheckboxCell', ['widgets/table/CheckboxCell/CheckboxCell'], function (main) { return main; });
